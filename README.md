# Styled-Markdown

## 프로젝트 소개

[DEMO](https://www.styled-markdown.site/)

Styled-Markdown은 마크다운 기반의 웹 문서 에디터입니다.  
기본 마크다운 문법과 함께 간단한 스타일 확장 문법을 제공합니다.

글자색, 배경색, 중요 표시 등을 마크다운 방식으로 작성하고  
그 결과를 작성과 동시에 프리뷰 형태로 볼 수 있습니다.  
또한 결과물을 스타일과 함께 HTML로 내려 받아,  
블로그나 HTML을 지원하는 다른 매체로 옮겨 쓸 수 있습니다.  

![메인 페이지](/assets/example1.jpeg)
메인 페이지에 접속하면 게스트 모드로 간단하게 체험해볼 수 있습니다.

![내 문서 목록](/assets/example2.jpeg)
로그인 시 내가 작성한 문서 목록을 모아볼 수 있습니다.

![내 문서 편집](/assets/example3.jpeg)
내 문서 목록에 있는 문서는 언제든 수정하고 저장할 수 있습니다.

## 프로젝트 기획 동기

> 키보드에서 손 안 떼고 문서 작성하고 싶어요.

Github와 GitLab을 사용하면서 마크다운을 접하게 되었습니다. 간결한 문법으로 평소와 같이 글을 쓰기만 하면 기본에 충실하게 깔끔한 문서를 작성할 수 있다는 점이 인상깊었고, 편리하기도 했습니다. 특히 마우스를 쓰지 않아도 된다는 점이 최고 매력 포인트였습니다. 👍 평소에도 단축키를 찾아 다니는 저에게 안성맞춤인 방법이었습니다.

다시 돌아보니 마크다운을 지원하는 서비스나 앱이 꽤 많았습니다. 블로그 서비스에서도 마크다운으로 글쓰기를 지원하고 있었고, R Markdown에서는 R 코드를 포함하는 문서를 마크다운으로 작성할 수도 있었습니다. Github에서는 GitHub Flavored Markdown라는 이름으로 더 많은 문법을 제공하고 있고, Notion도 마크다운 방식을 일부 채택하고 있죠. 활용법은 무궁무진했습니다. 조사를 하다 보니 흘러흘러 LaTex까지 가게 되었는데, 양식이나 탬플릿 개념을 적절하게 접목시킬 수 있으면 참 좋지 않을까 싶은 생각이 들었습니다.

천리길도 한 걸음부터, 일단 작은 것부터 시작해보기로 했습니다. Notion을 쓰면서 가장 좋으면서도 아쉬운 점이 바로 스타일이었습니다. '다꾸'하듯 글자 색상이나 배경색을 넣어 가독성 있는 문서를 작성할 수 있는데, 스타일을 입히다 보면 어쩔 수 없이 마우스를 한 번 더 쓰게 되곤 했습니다. 게으름은 개발의 원동력! 그마저도 움직이기 싫었던 저는 그렇게 Styled-Markdown을 시작하게 되었습니다.

## 프로젝트 일정

- 1주차 : 2022.02.21 ~ 2022.02.25
  - [아이디어 수집](https://lazymole.notion.site/841b764eeb0942e489e4b163c5a50faf)
  - [기술 스택 선정 및 검토](https://lazymole.notion.site/e6686c54c2fb40cda5e997e5fc966ada)
  - [Mock up](https://lazymole.notion.site/Mock-up-72513fbb6ff94aab9d80504b06df3f96)
  - [DB Schema Modeling](https://lazymole.notion.site/DB-Schema-Modeling-c605ecffa933414f8b07ba38c29cd0fc)
  - [태스크 카드 생성](https://lazymole.notion.site/5e6233ce90244ea5a4903d1087007087?v=4ad7c7f604664995ab984c51d69323e8)
- 2주차 : 2022.02.26 ~ 2022.03.04
  - 개발
- 3주차 : 2022.03.05 ~ 2022.03.12
  - 개발 및 배포
  - README 작성
  - 테스트 코드 작성
  - 실서버 테스트 및 버그 픽스

## 기술 스택

### 기술 스택 일람
- MERN + React Query
- Frontend
  - `React`, `React Query`, `markdown-it`, `firebase/google`
  - 배포 : Netlify
- Backend
  - `Node.js`, `Express`, `MongoDb Atlas`, `JWT`
  - 배포 : AWS EB

### React Query 도입
이번 프로젝트에서의 가장 큰 변화는 **React Query** 도입이었습니다.

서버-클라이언트 간 통신을 구축하는 프로젝트를 진행하면서 비동기 로직 관리 라이브러리의 필요성을 느꼈습니다. 문제를 해결하기 위해 이전 프로젝트에서는 **Redux-Saga**를 도입했습니다. Redux-Saga는 강력한 도구였습니다. 시간을 들이기만 하면 비동기 로직의 전체적인 흐름을 관리할 수 있었습니다. 하지만 **보일러 플레이트**가 많아서 작은 프로젝트를 개발하는 입장에서는 프로젝트의 규모 대비 Saga 로직이 비대하다고 느껴졌습니다. 나중에 흐름을 추적하려고 해도 여러 로직을 거쳐 읽어야 해서 작업 속도가 느려지기도 했습니다.

> 더 가볍고 간편하게 데이터를 받아올 수는 없을까?

그래서 선택하게 된 것이 **React Query**였습니다. React Query는 `useQuery`, `useMutation` 등을 이용해서 아주 빠르게 비동기 로직을 작성할 수 있었습니다. 데이터 통신이 진행 중일 때, 에러가 발생했을 때, 완료되었을 때 등의 로직을 옵션으로 손쉽게 넘겨줄 수 있었습니다. 사용법도 React 이용자에게 친숙한 방식이어서 새로운 React Hook을 사용하는 것 같은 느낌이었습니다. 한 마디로 평가하자면 "**정말 가볍고 친숙하다**"라고 할 수 있었습니다.

## 프로젝트를 마치고 나서

### 아쉬운 점
1. 인풋과 아웃풋(프리뷰)이 일원화된 에디터의 구현

최초 기획에서 구현하지 못한 것 중 하나가 **인풋과 아웃풋(프리뷰)이 일원화된 에디터**입니다. Notion처럼 유저가 입력을 하면 한 화면에서 그대로 Parsing 및 렌더링하여 보여주고 싶었으나 기술적 한계에 부딪혀 인풋과 아웃풋이 분리된 형태를 취하게 되었습니다.

2. 스타일

**스타일**을 충분히 많이 추가하지 못한 것도 아쉬운 점으로 남습니다.
처음에는 무작정 다양한 스타일을 넣으면 좋겠다고 생각했지만 프로젝트를 점점 진행하면서 아래 기준을 생각하지 않을 수 없었습니다.

> 정말 필요한 기능인가? → 기능 구현 시 실제로 사용할 유저가 많을 것으로 예상되는가?  
문법은 사용하기 간결한가? → 사실상 마크다운을 빙자한 마크업이 되는 것은 아닌가?  
꼭 마크다운이어야 하는가? → 마우스 클릭으로 적용 가능한 툴바를 제공하는 게 더 적절하지는 않은가?

고민 끝에 불필요한 스타일을 걷어내고 기본에 충실하게 구현하되, 언제든 문법을 추가하고 업데이트할 수 있는 플러그인 적용 구조로 코드를 짜게 되었습니다.

### 추후 연구 및 업데이트 할 주제들
아쉬웠던 점들을 그대로 두면 결국 언젠가 같은 문제에 부딪히게 됩니다. 실제로 이번 프로젝트에서도 이전에 다른 일을 하면서 맞닥뜨렸던 문제를 그대로 마주한 것이 몇 가지 있었습니다. 꼭 잡고 가겠다는 일념으로, 아쉬운 점들을 모아서 해결한 v2.0을 차근차근 작업해보고자 합니다. 조금 길어질지도 모르겠지만요.

그리고 더 나아가서는 TypeScript를 기반으로 하여 Markdown Based Parser를 직접 개발해보고 싶습니다. Next.js를 함께 사용하여 적절하게 SSR을 해주고 싶다는 생각도 들고요. 공부를 하면 할수록 더욱 많은 것들에 도전하고 싶고 경험하고 싶습니다. 프로젝트의 가장 좋은 점은 역시 이런 점들이 아닐까 싶네요!

- 인풋-아웃풋(프리뷰) 화면 일원화
- 스타일 문법 추가
- Export as PDF
- 유저 커스텀 탬플릿 적용
- 키보드 단축키를 이용한 블럭 단위 편집, 순서 이동 등
